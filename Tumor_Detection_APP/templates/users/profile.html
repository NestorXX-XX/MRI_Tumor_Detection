{% extends 'base.html' %}

{% block title %}Profile - MRI Tumor Detection{% endblock %}

{% block content %}
<div class='row justify-content-center'>
    <div class='col-md-8'>
        <div class='card'>
            <div class='card-header bg-primary text-white'>
                <h2 class='text-center mb-0'>User Profile</h2>
            </div>
            <div class='card-body'>
                <div class='row'>
                    <div class='col-md-4 text-center mb-4'>
                        <div class='avatar-circle mx-auto mb-3'>
                            <i class='fas fa-user fa-4x text-primary'></i>
                        </div>
                        <h4>{{ user.username }}</h4>
                        {% if user.userprofile.is_admin %}
                            <span class='badge bg-success'>Administrator</span>
                        {% else %}
                            <span class='badge bg-secondary'>User</span>
                        {% endif %}
                    </div>
                    <div class='col-md-8'>
                        <div class='card mb-3'>
                            <div class='card-body'>
                                <h5 class='card-title'>Account Information</h5>
                                <hr>
                                <div class='row mb-2'>
                                    <div class='col-sm-4 text-muted'>Username:</div>
                                    <div class='col-sm-8'>{{ user.username }}</div>
                                </div>
                                <div class='row mb-2'>
                                    <div class='col-sm-4 text-muted'>Email:</div>
                                    <div class='col-sm-8'>{{ user.email|default:'Not provided' }}</div>
                                </div>
                                <div class='row mb-2'>
                                    <div class='col-sm-4 text-muted'>Date Joined:</div>
                                    <div class='col-sm-8'>{{ user.date_joined|date:'F j, Y' }}</div>
                                </div>
                                <div class='row mb-2'>
                                    <div class='col-sm-4 text-muted'>Last Login:</div>
                                    <div class='col-sm-8'>{{ user.last_login|date:'F j, Y H:i' }}</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class='card'>
                            <div class='card-body'>
                                <h5 class='card-title'>Account Actions</h5>
                                <hr>
                                <div class='d-grid gap-2'>
                                    <a href='{% url "upload_image" %}' class='btn btn-primary'>
                                        <i class='fas fa-upload me-2'></i>Upload New MRI
                                    </a>
                                    {% if user.userprofile.is_admin %}
                                        <a href='{% url "admin_dashboard" %}' class='btn btn-success'>
                                            <i class='fas fa-user-shield me-2'></i>Admin Dashboard
                                        </a>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .avatar-circle {
        width: 100px;
        height: 100px;
        background-color: #f8f9fa;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto;
    }
</style>
{% endblock %} 